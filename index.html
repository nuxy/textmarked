<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="preload" href="https://buttons.github.io/buttons.js" as="script" />
    <link rel="stylesheet" type="text/css" href="textmarked.min.css" />
    <link rel="stylesheet" type="text/css" href="css/demo.css" />

    <script type="text/javascript" src="textmarked.min.js"></script>
    <script>
      window.onload = function() {
        var settings = {
          allowKeys: `a-z0-9\\s,.?!$%&()\\[\\]"'-_#*\`>`,
          allowEnter: true,
          clipboard: true,
          showExample: true,
          options: [
            'Heading',
            'Bold',
            'Italic',
            'Blockquote',
            'Ordered-List',
            'Unordered-List',
            'Code',
            'Horizontal-Rule',
            'Link',
            'Image'
          ]
        };

        var textarea = document.getElementById('comments');

        var editor = textMarked(textarea, settings);
        editor.focus();

        var container = document.querySelector('.textmarked');

        var output = document.getElementById('output');

        var content = container.querySelector('.content');

        container.addEventListener('click', () => {
          output.innerHTML = editor.markup();
        });

        content.addEventListener('keyup', () => {
          output.innerHTML = editor.markup();
        });

        var toggleButton = document.getElementById('toggle-button');

        toggleButton.addEventListener('click', event => {
          event.preventDefault();

          var field1 = document.querySelector('#comments');
          var field2 = document.querySelector('.textmarked');

          if (field1.style.visibility === 'hidden') {
            field1.style.visibility = 'visible';
            field1.style.position = 'relative';
            field2.style.display = 'none';

            toggleButton.textContent = 'Show TextMarked';

          } else {
            field1.style.visibility = 'hidden';
            field1.style.position = 'absolute';
            field2.style.display = 'block';

            toggleButton.textContent = 'Show default';
          }
        });
      };
    </script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <style type="text/css">
      #github-buttons {
        margin: 15px 10px;
      }
    </style>

    <title>Enable Markdown editing in HTML &lt;textarea &sol;&gt; | textmarked</title>
  </head>
  <body>

    <!-- Github buttons start -->
    <nav id="github-buttons">
      <a class="github-button" href="https://github.com/nuxy/textmarked" data-color-scheme="no-preference:light;light:light;dark:dark;" data-size="large" aria-label="View project on GitHub">textmarked</a>
      <a class="github-button" href="https://github.com/nuxy/textmarked" data-color-scheme="no-preference:light;light:light;dark:dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star nuxy/textmarked on GitHub">Star</a>
      <a class="github-button" href="https://github.com/nuxy/textmarked/fork" data-color-scheme="no-preference:light;light:light;dark:dark;" data-icon="octicon-repo-forked" data-size="large" data-show-count="true" aria-label="Fork nuxy/textmarked on GitHub">Fork</a>
    </nav>
    <!-- Github buttons end -->

    <form>
      <fieldset>
        <legend>
          <button id="toggle-button">Show default</button>
        </legend>

        <div>
          <label for="comments">Comments</label>

          <textarea id="comments" name="comments" cols="50" rows="10"></textarea>
        </div>
      </fieldset>

      <input type="Reset" />
    </form>

    <div id="output"></div>
  </body>
</html>
